%
% ---------- header -----------------------------------------------------------
%
% project       kaneton
%
% license       kaneton
%
% file          /home/mycure/kaneton/view/exam/kernels/2011/kernels.tex
%
% created       julien quintard   [mon may 14 21:56:41 2007]
% updated       julien quintard   [wed may 25 09:35:39 2011]
%

%
% ---------- setup ------------------------------------------------------------
%

%
% path
%

\def\path{../../..}

%
% template
%

\input{\path/template/exam.tex}

%
% title
%

\title{Noyaux et Syst\`emes d'Exploitation}

%
% header
%

\lhead{\scriptsize{EPITA\_ING2 - 2011\_S4 - NSE}}
\rhead{}

%
% document
%

\begin{document}

%
% title
%

\maketitle

%
% identation
%

\indentation{}

%
% --------- information -------------------------------------------------------
%

\begin{center}

\textbf{Documents Interdits}

\textbf{Dur\'ee 3 heures}

\scriptsize{Une copie bien pr\'esent\'ee sera toujours mieux not\'ee
            qu'une autre.}

\end{center}

%
% --------- text --------------------------------------------------------------
%

%
% XXX
%

\section{Boot \& M\'emoire
         {\hfill{} \normalfont{\scriptsize{5 points}}}}

XXX

\begin{correction}

XXX

\end{correction}

%
% XXX
%

\section{Ex\'ecution
         {\hfill{} \normalfont{\scriptsize{5 points}}}}

XXX

\begin{correction}

XXX

\end{correction}

%
% XXX
%

\section{Noyaux Avanc\'es et virtualisation
         \normalfont{{\hfill{} \scriptsize{4 points}}}}


\begin{itemize}
    \item
        Veuillez expliquer le principe des "Shadow Page Tables". (2 points)
    \item
        Expliquez et d\'etailez les principes introduits dans le kernel "Singularity". (2 points)
\end{itemize}



\begin{correction}

\begin{itemize}
    \item
        Veuillez expliquer le principe des "Shadow Page Tables"? (2 points)

        Les shadow page tables sont utilis\'es sur la MMU et serve \`a la traduction
        d'addresse. Le meilleur moyen de d\'ecrire les shadow page tables est de d\'etailer
        le flow d'execution:
        \begin{itemize}
            \item Le kernel de l'invit\'e charge une nouvelle tache
            \item Chargement du CR3
                \begin{itemize}
                    \item VMEXIT au niveau de l'hyperviseur
                    \item Chargement du vrai CR3 avec un page table vide (cette page table est appel\'e
                  shadow page table).
                \end{itemize}
            \item La tache s'execute et acc\`ede \`a de la m\'emoire.
            \begin{itemize}
                \item Le processeur g\'en\`ere une page fault vu que les shadow page table sont vide
                \item L'hyperviseur copie le chemin qui a g\'en\'er\'e la faute (addresse virtuelle).
                \item L'hyperviseur utilise une diff\'erent addresse physique vu que l'invit\'e utilise
                  une address visible que par lui meme, pas par l'hote (addresse invit\'e != addresse physique).
            \end{itemize}
        \end{itemize}
    \item
        Expliquez et d\'etailez les principes introduits dans le kernel "Singularity" (2 points)

        Singularity:
        \begin{itemize}
            \item Redesign complet sans contrainte de compatibilit\'e ant\'erieur
            \item Tout les programmes et drivers tournent dans le meme espace d'addressage
            \item Utilisation de language de haut niveau sans acces direct \`a la m\'emoire (C\#).
            \item Interface et int\'eraction entre les differents composants decritent dans un
            manifest.
        \end{itemize}
            
\end{itemize}

\end{correction}

% 
% securite
%

\section{S\'ecurit\'e
         \normalfont{{\hfill{} \scriptsize{2 points}}}}


\begin{itemize}
  \item
    Veuillez expliquer le principe de moindre privilege.
  \item
    Est-ce que ce principe est respect\'e dans les kernels monolithiques
    modernes?
  \item
    Quel mecanisme pourrait-\^etre utilis\'e pour garantir un tel principe?
\end{itemize}

\begin{correction}

XXX

\end{correction}

%
% Peripheriques et Noyau Windows NT
%

\section{P\'eriph\'eriques et Noyau Windows NT
         \normalfont{{\hfill{} \scriptsize{4 points}}}}

\begin{itemize}
\item
  Citez les grands axes de conception du noyau Windows NT. (1.5 point)
\item
  Les p\'eriph\'eriques exportent leur interface de programmation comme un ensemble
  de registres. Citez les deux mod\`eles de programmation typiques pour acc\'eder
  \`a ces registres. (1 point)
\item
  Enum\'erez les propri\'et\'es (physiques, protocolaires) du r\'eseau de communication
  CAN. A la vue de ces propri\'et\'es, dans quel contexte l'utiliseriez vous? (1.5 point)
\end{itemize}

\begin{correction}
\begin{itemize}
  \item Question 1:
    \begin{itemize}
    \item Hybride: message passing mais single address space
    \item stackable IO model
    \item multithreade
    \item oriente objet, object manager
    \item strong security model
    \end{itemize}
  \item Question 2:
    \begin{itemize}
    \item memory mapped
    \item IO instructions
    \end{itemize}
  \item Question 3:
    \begin{itemize}
    \item temps reel, determinisme
    \item arbitrage bit a bit (recessif / dominant)
    \item differentiel
    \item resistance aux bruits electro magnetique
    \item bus de terrain
    \item utilisation typique: vehicule, environement parasite par de fort courants (usine...)
    \end{itemize}
\end{itemize}
\end{correction}

\end{document}
