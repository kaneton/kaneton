%
% ---------- header -----------------------------------------------------------
%
% project       kaneton
%
% license       kaneton
%
% file          /home/buckman/kan...view/curriculum/seminar/2008/seminar.tex
%
% created       matthieu bucchianeri   [fri nov  2 14:14:33 2007]
% updated       matthieu bucchianeri   [sun nov  4 20:03:23 2007]
%

%
% path
%

\def\path{../../..}

%
% template
%

\input{\path/template/lecture.tex}

%
% title
%

\title{the kaneton microkernel project --\\http://www.kaneton.org}

%
% authors
%

\author
{
  Matthieu~Bucchianeri,
  Renaud~Voltz
}

%
% figures
%

%\pgfdeclareimage[interpolate=true,width=200pt,height=140pt]
%                {set}
%		{figures/set}

\pgfdeclareimage[interpolate=true,width=200pt,height=160pt]
                {kaneton}
		{figures/kaneton}

\pgfdeclareimage[interpolate=true,width=200pt,height=100pt]
                {kernel-in-os}
		{figures/kernel-in-os}

\pgfdeclareimage[interpolate=true,width=200pt,height=132pt]
                {k-snapshot}
		{figures/k-snapshot}

\pgfdeclareimage[interpolate=true,width=200pt,height=100pt]
                {servers-in-os}
		{figures/servers-in-os}

\pgfdeclareimage[interpolate=true,width=200pt,height=100pt]
                {machdep}
		{figures/machdep}

\pgfdeclareimage[interpolate=true,width=200pt,height=100pt]
                {driver}
		{figures/driver}

\pgfdeclareimage[interpolate=true,width=200pt,height=90pt]
                {test}
		{figures/test}

%
% document
%

\begin{document}

%
% title frame
%

\begin{frame}
  \titlepage

  \begin{center}
    \logos
  \end{center}
\end{frame}

%
% outline frame
%

\begin{frame}
  \frametitle{Contents}
  \tableofcontents
\end{frame}

%
% overview
%

\section{Overview}

% -)

\begin{frame}
  \frametitle{Project overview}

  kaneton is a microkernel designed and developed for pedagogical
  purposes.

  \begin{center}
    \pgfuseimage{kernel-in-os}
  \end{center}

  However, kaneton is also meant to be the basis of a distributed
  operating system called kayou.

\end{frame}

% -)

\begin{frame}
  \frametitle{Lessons overview}

  kaneton is also a set of lessons in SRS and GISTR specializations:

  \begin{itemize}
  \item
    Kernels, Operating systems and low-level programnming;
  \item
    Microprocessors design and architecture
  \end{itemize}

  \-

  And 5 projects in both specializations:

  \begin{itemize}
  \item
    K0: bootstrap
  \item
    K1: memory management
  \item
    K2: interrupts and event handling
  \item
    K3: multitasking and multithreading
  \item
    K4: inter-process communication
  \end{itemize}

  \-

  The whole course is given to about 60 students every years.

\end{frame}

% -)

\begin{frame}
  \frametitle{Another closely related project: K}

  The ing1 project k is maintained by the kaneton people. This project
  is a quick introduction to low-level programming.

  \begin{center}
    \pgfuseimage{k-snapshot}
  \end{center}

  Students have to develop the kernel of an operating system dedicated
  to arcade games.

  \-

  Since three years, this optional project is getting more and more
  popular, with about 60 students last years.
\end{frame}

% -)

\begin{frame}
  \frametitle{kaneton people}

    \begin{itemize}
    \item
      Julien Quintard
      \begin{itemize}
	\item
	Creator of the project a few years ago with Jean Pascal Billaud
	\item
	Project manager and designer
	\item
	Responsible of kaneton course from 2004 to 2006
        \item
	Lecturer of Microprocessors architecture lessons
      \end{itemize}
    \item
      Renaud Voltz \& Matthieu Bucchianeri
      \begin{itemize}
	\item
	Working at LSE for two years now
	\item
	Core and IA-32 developers
	\item
	Responsibles of kaneton course in 2007
	\item
	Lecturers of Kernels and operating systems lessons in 2007
      \end{itemize}
    \item
      Julian Pidancet \& Elie Bleton
      \begin{itemize}
        \item
	Working at LSE in 2007
	\item
	Responsibles of kaneton course in 2008
      \end{itemize}
    \end{itemize}

  \textbf{Other people currently involved in kaneton}

  \begin{itemize}
    \item
      Mathieu Sélariès: Assistant project manager
    \item
      Enguerrand Raymond: MIPS Developer
  \end{itemize}

  \textbf{Other people involved in the past}

  \begin{itemize}
    \item
      Cédric Aubouy: Kernel and operating systems lecturer for 2006
    \item
      Renaud Lienhart: IA-32 architecture lecturer for 2006
    \item
      Jean-Pascal Billaud: kaneton course for 2004 and 2005
  \end{itemize}

\end{frame}

%
% the kaneton microkernel
%

\section{The kaneton microkernel}

% -)

\begin{frame}
  \frametitle{Kernel roles}

  The kernel is the part of the operating system managing:

  \begin{itemize}
  \item
    Memory
  \item
    Processes
  \item
    I/O
  \item
    Communication
  \end{itemize}

  In OS like Linux or *BSD, drivers are included into the kernel, and
  a few services like the network stack are included too.
\end{frame}

% -)

\begin{frame}
  \frametitle{Project Goals}

  The goals of the kaneton project are:

  \begin{itemize}
    \item
      To build a pedagogical project.
    \item
      With the clearest possible design.
    \item
      Able to fit distributed operating systems requirements.
    \item
      Dealing with portability.
    \item
      Easily maintainable.
    \item
      Able to run UNIX{\scriptsize \copyright} programs via
      an emulation library.
    \item
      Finally, an \textbf{all easy to understand}: source code, design,
      etc.
  \end{itemize}
\end{frame}

% -)

\begin{frame}
  \frametitle{Microkernel design}

  Microkernel topology tends to reduce the amount of code running in
  privileged mode. Only the critical code requiring supervisor
  privileges is left in the kernel.

  \begin{center}
    \pgfuseimage{kaneton}
  \end{center}

  All non critical code (drivers \& services) are pushed out of the
  kernel and runs in non-privileged mode.

\end{frame}

% -)

\begin{frame}
  \frametitle{Inter-Process Communication}

  The whole Operating System is based on IPC. Every driver, service
  and application requests goes through messages.

  \-

  kaneton supports message queues as the basic IPC. Messages are sent
  from one task to another, but for security reasons, all the messages
  are handled by the kernel.

  \-

  When an application needs to request data from a service, it sends
  through the kernel a message to this service. Then, the service
  replies, also passing through the kernel.

  \-

  The entire microkernel principles are based on IPC.

\end{frame}

% -)

\begin{frame}
  \frametitle{Tasks \& address spaces}

  kaneton is a fully isolated multitask, preemptive multithread kernel.

  \-

  Tasks have their own address space, not accessible by other
  tasks. This protection mecanism is achieved through virtual memory.

  \-

  An IPC is a transfer of a buffer from one address space to another.

  \-

  A task is made of one ore more threads. Threads are implements on
  kernel-side (1:1 model). The kernel implements a multilevel feedback
  queue scheduler.

\end{frame}

% -)

\begin{frame}
  \frametitle{Portability}

  kaneton is designed to be portable, even if for the moment, kaneton
  only runs on Intel IA-32 architecture.

  \-

  Each functionality in kaneton is divided in common independent code
  and machine dependent code. For example:

  \begin{center}
    \pgfuseimage{machdep}
    \\\emph{Code hierarchy for thread switching}
  \end{center}

\end{frame}

% -)

\begin{frame}
  \frametitle{Object oriented \& sets}

  Not only the design allows kaneton to be simply understandable.

  \-

  The kernel uses concepts directly taken from object-oriented
  programming (while being developed in C). Everything is object:
  tasks, threads, memory regions, messages\ldots

  \-

  Because the kernel is used to store all these object to process
  them, a special mecanism called ``sets'' is used for containers.

  \-

  Sets implement different common containers (list, stack,
  FIFO\ldots), so the kernel code to manipulate objects is unified and
  clear.

\end{frame}

% -)

\begin{frame}
  \frametitle{Capabilities}

  Object manipulation inside and outside the kernel must implement
  controls.

  \-

  kaneton uses capabilities for managing permissions on objects. A
  capability is a reference to an object plus a bitmap enumerating
  permissions on this object. A security mecanism based on
  cryptography is used to prevent anyone modifying a capability.

  \-

  All objects are manipulated using capabilities by the applications.

\end{frame}

% -)

\begin{frame}
  \frametitle{Drivers and services}

  In classical operating systems, drivers and services are libraries
  or source files. Interacting with them is simple function or system
  call.

  \begin{center}
    \pgfuseimage{driver}
    \\\emph{Example of PCI driver query}
  \end{center}

  In kaneton (and more generaly microkernels), drivers and services
  are programs, exactly like user applications. Calls are now
  IPC. Communication with the hardware can be achieved only by drivers
  because they have specific attributes (privileges).

\end{frame}

% -)

\begin{frame}
  \frametitle{Testsuite}

  kaneton has the ability to be fully validated. This is useful to
  avoid regression while working on the code.

  \-

  In addition, the testsuite is used to evalutate the ing2 projects
  and to give grades.

  \begin{center}
    \pgfuseimage{test}
    \\\emph{Testing on real machines through serial port}
  \end{center}

  The testsuite is made of about 200 unitary and global tests covering
  almost every features of the kernel.

\end{frame}

% -)

\begin{frame}
  \frametitle{Current progress}

  The kaneton microkernel is nearly finished. Recently, we tested the
  whole kernel writing drivers and test applications. As an example,
  we ported a network stack and kaneton answered ping.

  \-

  For this reason, future work around kaneton is the Operating System
  based on it. But the kernel needs to be maintained and a few
  functionality are missing.

\end{frame}

%
% projects for 2008
%

\section{Projects for 2008}

% -)

\begin{frame}
  \frametitle{Cursus}

  Before working on kaneton, recruited students will follow a one week
  intensive upgrade course.

  \-

  This week includes:

  \begin{itemize}
  \item
    Lessons on the IA-32 architecture
  \item
    Lessons on kernels implementation
  \item
    Complete review of the kaneton design
  \item
    Presentation of the kaneton tools an environment
  \item
    Practical work: implementation of critical parts of the kernel
  \end{itemize}

\end{frame}

% -)

\begin{frame}
  \frametitle{POSIX}

\end{frame}

% -)

\begin{frame}
  \frametitle{AMD-64}

\end{frame}

% -)

\begin{frame}
  \frametitle{Security}

\end{frame}

% -)

\begin{frame}
  \frametitle{Distributed Hash Table}

\end{frame}

%
% your commitments
%

\section{Your commitments}

% -)

\begin{frame}
  \frametitle{Ing1}

  After the intensive upgrade week, recruits are attended to work on
  their projects. Some projects of the classical cursus will be removed
  to give more time for the laboratory. These grades will be replaced
  by grades from kaneton supervisor.

  \-

  Recruits are encouraged to work on other projects about kaneton: we have
  a long TODO list and a lot of tiny enhancements.

  \-

  In addition, kaneton teachers will probably need help for practical
  work sessions or assisting students.

  \-

  Depending on the progress on recruits projects, recruits will be assigned to
  give the k course to ing1. This includes:

  \begin{itemize}
  \item
    Giving the lessons
  \item
    Assisting the project
  \item
    Evaluating the students
  \end{itemize}

\end{frame}

% -)

\begin{frame}
  \frametitle{Ing2 \& Ing3}

  During your ing2, recruits main job will be to give the kaneton course:

  \begin{itemize}
  \item
    Giving the lessons
  \item
    Doing the project presentations (1 per stage)
  \item
    Issuing and correcting the written evaluation (= \emph{partiel})
  \item
    Assisting the project
  \item
    Correcting the students tarballs
  \end{itemize}

  \-

  Recruits will have to appropriate to yourself the currently existing
  lessons (more than 300 slides), to prepare the presentations, to
  write or update the subjects, to issue additional lessons when
  students are blocked, to learn how the testing facility works, and
  to communicate with the administration (planning, grades\ldots).

  \-

  In ing3, your work is to ensure the project continuation in the
  school (this presentation is an example).

\end{frame}

% -)

\begin{frame}
  \frametitle{Duties}

  People integrating the LSE for kaneton are not like other ing1
  integrating the lab.

  \-

  The students recruited for kaneton are commited to stay in the LSE
  from now to the moment they leave for their end-of-study
  internship. While classical ing1 in the lab can leave after ing1,
  \textbf{kaneton recruits have no other option than staying in the
  lab}.

  \-

  The continuation of the project at EPITA and the ing2 students
  depends on the kaneton recruits. For these reasons, the administration
  (in particular Christian Dujardin), the future SRS \& GISTR
  specialization students and us are counting on the recruits.

  \-

  Applying for kaneton is an important and serious commitment. Do not
  apply until you are \textbf{100\% sure of your interest} in the
  project and the course. Any wrong can lead the project to
  \underline{die}. So please, by respect to all the people that
  invested time in the project, do not disappoint us.

\end{frame}

\end{document}
