%
% ---------- header -----------------------------------------------------------
%
% project       kaneton
%
% license       kaneton
%
% file          /home/mycure/kaneton/view/package/opk/common.tex
%
% created       julien quintard   [fri may 23 18:51:54 2008]
% updated       julien quintard   [wed feb 23 15:56:42 2011]
%

%
% ---------- author -----------------------------------------------------------
%
% this command set the authors.
%

\author
  {%
    kaneton people
  }

%
% ---------- configuration ----------------------------------------------------
%

%
% verbatim
%

\makeatletter
  \def\verbatim@font{\footnotesize\ttfamily\hyphenchar\font\m@ne\@noligs}

  \def\verbatim@processline
    {\hskip15ex{\color{c_verbatim}\the\verbatim@line}\par}
\makeatother

%
% ---------- colours ----------------------------------------------------------
%

\definecolor{c_function}{rgb}{0.40,0.00,0.00}
\definecolor{c_command}{rgb}{0.00,0.00,0.40}
\definecolor{c_verbatim}{rgb}{0.00,0.40,0.00}
\definecolor{c_code}{rgb}{0.00,0.40,0.00}
\definecolor{c_note}{rgb}{0.87,0.84,0.02}
\definecolor{c_location}{rgb}{0.70,0.40,0.20}
\definecolor{c_type}{rgb}{0.30,0.50,0.70}
\definecolor{c_argument}{rgb}{0.20,0.30,0.80}
\definecolor{c_return}{rgb}{0.70,0.70,0.00}

%
% ---------- environments -----------------------------------------------------
%

%
% details
%

\newenvironment{details}
   {
     \ifthenelse
	 {
	   \equal{\mode}{private}
	 }
	 {%
	   \textbf{ \color{red}{[details]}}
	 }
	 {%
	   \comment
	 }
   }
   {
     \ifthenelse
	 {
	   \equal{\mode}{private}
	 }
	 {%
	   \textbf{ \color{red}{[/details]}}
	 }
	 {%
	   \endcomment
	 }
   }

%
% correction
%

\newenvironment{correction}
   {
     \ifthenelse
	 {
	   \equal{\mode}{private}
	 }
	 {%
	   \textbf{ \color{red}{[correction]}}
	 }
	 {%
	   \comment
	 }
   }
   {
     \ifthenelse
	 {
	   \equal{\mode}{private}
	 }
	 {%
	   \textbf{ \color{red}{[/correction]}}
	 }
	 {%
	   \endcomment
	 }
   }

%
% ---------- commands ---------------------------------------------------------
%

%
% term
%
% this command is used for introducing new important words.
%
% #1:   text
%

\newcommand\term[1]
  {%
    \textbf{#1}%
  }

%
% name
%
% this command is used when refering to a already introduced term or
% a somewhat special word.
%
% #1:   text
%

\newcommand\name[1]
  {%
    \textit{#1}%
  }

%
% code
%
% this command is used for words which represent function names or code
% e.g \code{show()} etc.
%
% #1:   text
%

\newcommand\code[1]
  {%
    {\footnotesize\texttt{\color{c_code}#1}}%
  }

%
% reference
%
% this command is used for referencing a figure or section or anything else.
% this command should encapsulate the whole text e.g
% \reference{Figure \ref{XXX}}, \reference{Chapter \ref{XXX}} etc.
%
% #1:   section/figure/etc.
%

\newcommand\reference[1]
  {%
    \textit{#1}%
  }

%
% location
%
% this command is used for describing a location: path, URL etc.
%
% #1:   location
%

\newcommand\location[1]
  {%
    {\footnotesize\texttt{\color{c_location}#1}}%
  }

%
% function
%
% this special command is used for describing a function.
%
% #1:   return type
% #2:   function name
% #3:   arguments list
% #4:   description text
%

\newcommand\function[4]
  {
    \begin{tabular}{p{1.5cm}p{14.5cm}}
      {\footnotesize\texttt{\color{c_return}#1}} &
      \texttt{\color{c_function}#2}(#3)
    \end{tabular}

    \begin{tabular}{p{2.2cm}p{11.8cm}}
      & #4
    \end{tabular}
  }

%
% type
%
% this command should only be used in the function() command and is used
% for describing a type.
%
% #1:   type name
%

\newcommand\type[1]
  {%
    {\footnotesize\texttt{#1}}%
  }

%
% argument
%
% this command is also dependent from the function() command and is used for
% describing arguments.
%
% #1:   argument name
%

\newcommand\argument[1]
  {%
    {\footnotesize\texttt{\color{c_argument}#1}}%
  }

%
% command
%
% this command is equivalent to the function one but targets shell commands,
% assembly labels etc.
%
% #1:   command line
% #2:   description text
%

\newcommand\command[2]
  {
    \begin{tabular}{p{0.2cm}p{13.8cm}}
    & \texttt{\color{c_command}#1}
    \end{tabular}

    \begin{tabular}{p{1cm}p{13cm}}
    & #2
    \end{tabular}
}

%
% question
%
% this command is used in feedback documents for creating questions.
%
% #1:   text
% #2:   space needed for people to answer
%

\newcommand\question[2]
{
  \textbf{\subsubsection*{#1}}

  \vspace{#2}
}

%
% latex
%
% this command latexify the given text by putting a backslah in front of it.
%
% #1:   command name
%

\newcommand\latex[1]
{%
  $\backslash$#1%
}

%
% ie, etc, eg ...
%

\newcommand\ie[0]{\textit{i.e.}}
\newcommand\eg[0]{\textit{e.g.}}
\newcommand\etc[0]{\textit{etc.}}
\newcommand\aka[0]{\textit{a.k.a.}}
