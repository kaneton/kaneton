%
% ---------- header -----------------------------------------------------------
%
% project       kaneton
%
% license       kaneton
%
% file          /home/enguerrand/.../book/architecture/MIPS64/bootloader.tex
%
% created       enguerrand raymond   [sun oct  5 16:54:35 2008]
% updated          [sat apr  4 18:32:58 2009]
%

%
% booloader
%

\chapter{Bootloader}

This chapter describes the boot phase of kaneton on MIPS 64 systems. Each processor bootrsap are described. For the moment, the kaneton bootloader and the kernel will be loaded at this address. Later a firmware will be developed to load from floppy disk the kernel and these modules.

\subsection{qemu-mips platform}

The firmware lack for the qemu-mips is a real problem to launch kaneton and this modules.
For the moment the bootloader, the kernel and this modules are concatenate in a single file
named \location(mipsel\_bios) (for little endian version). This file is structures like this :

Schema

\subsection{MIPS R4000 initialization}

At starting, the R4000 microprocessor begins to execute instruction at the following address :

\begin{itemize}
  \item
    \textbf{0xBFC00000 in 32 bits mode}
  \item
    \textbf{0xFFFFFFFF BFC00000 in 64 bits mode}
\end{itemize}

Comparing to IA32 architecture, the pagination is already activated at initialization. But, as we will explain in the Memory chapter.
